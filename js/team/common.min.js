var ww=$(window).width();var wh=$(window).height();var scr_flag_sp=false;var scTop;var recent_flg=true;var scroll_flg=true;var fv_flg=true;var staff_flg=false;var _ua=(function(a){return{Tablet:(a.indexOf("windows")!=-1&&a.indexOf("touch")!=-1&&a.indexOf("tablet pc")==-1)||a.indexOf("ipad")!=-1||(a.indexOf("firefox")!=-1&&a.indexOf("tablet")!=-1)||a.indexOf("kindle")!=-1||a.indexOf("silk")!=-1||a.indexOf("playbook")!=-1,Mobile:(a.indexOf("windows")!=-1&&a.indexOf("phone")!=-1)||a.indexOf("iphone")!=-1||a.indexOf("ipod")!=-1||(a.indexOf("firefox")!=-1&&a.indexOf("mobile")!=-1)||a.indexOf("blackberry")!=-1,Android:(a.indexOf("android")!=-1&&a.indexOf("mobile")!=-1)||(a.indexOf("android")!=-1&&a.indexOf("mobile")==-1)};})(window.navigator.userAgent.toLowerCase());$(function(){if(_ua.Mobile){sp_scroll();$("#wrapper").addClass("sp");}else{if(_ua.Tablet){pc_scroll();$("#wrapper").addClass("tab");}else{pc_scroll();$("#wrapper").addClass("pc");}}height_setting();each_page();text_animation();$(window).load(function(){setTimeout(function(){$("#load .bg").fadeOut(300,function(){$("#load").addClass("s1");$("#load .logo").addClass("tra30");});},100);setTimeout(function(){$("#load .logo").addClass("on");},1800);setTimeout(function(){$("#load").addClass("s2");},2000);setTimeout(function(){if($("#video1 video").length){$("#video1 video").get(0).currentTime=0;$("#video2 video").get(0).currentTime=0;movie_flg=true;}$("#load").fadeOut(500,function(){$(".js-op").addClass("on");setTimeout(function(){$(".js-op2").addClass("on");$.preloadImages=function(){for(var a=0;a<arguments.length;a++){$("<img>").attr("src",arguments[a]);}};$.preloadImages("https://monopo.co.jp/wp-content/themes/monopo/img/bg_works_list_sp.jpg","https://monopo.co.jp/wp-content/themes/monopo/img/pic_solutions_fv.jpg","https://monopo.co.jp/wp-content/themes/monopo/img/pic_vision_fv.jpg","https://monopo.co.jp/wp-content/themes/monopo/img/pic_team_fv.jpg");},700);});},4000);});$("#btn_menu").click(function(){$(this).toggleClass("active");$("#header .logo").toggleClass("active");if($("#block_menu").hasClass("active")){$("#block_menu").fadeOut(300,function(){$("#block_menu").removeClass("active on");});}else{$("#block_menu").show().addClass("active");setTimeout(function(){$("#block_menu").addClass("on");},300);$("#block_menu").scrollTop(0);}sp_scroll_function();setTimeout(function(){$("#btn_menu").toggleClass("on");},700);});$("#block_menu a.pjax").click(function(){$("#block_menu, #btn_menu, #header .logo").removeClass("on active off");$("body").removeClass("noscroll").css("top","");$(window).scrollTop(scTop);scr_flag_sp=false;});$(document).on("click","a.pjax",function(b){b.preventDefault();var a=$(this).attr("href");return_scroll();$("#page_trans").fadeIn(400,function(){$("#page_trans").addClass("s1");});setTimeout(function(){$.pjax({url:a,container:"#ajax_area",fragment:"#ajax_area"});},300);});$.pjax.defaults.timeout=10000;$(document).on("pjax:end",function(){var a=location.href;var b=a.split("https://monopo.co.jp/");ga("send","pageview",b[1]);$(window).scrollTop(0);$("#wrapper").scrollTop(0);height_setting();setTimeout(function(){$(".js-sc").removeClass("on");each_page();text_animation();return_scroll();$("#scroll_down").removeClass("on");},100);$("#page_trans").addClass("s2");setTimeout(function(){$("#page_trans").fadeOut(500,function(){$(".js-op").addClass("on");setTimeout(function(){$(".js-op2").addClass("on");},700);$("#page_trans").removeClass("s1 s2");});},1000);});});var timer=false;$(window).resize(function(){if(timer!==false){clearTimeout(timer);}timer=setTimeout(function(){if(ww>700){wh=$(window).height();ww=$(window).width();height_setting();if($(".staff_list").length){if(staff_flg==true){$(".staff_list .scroll_area").css("overflow","scroll");}else{slider_staff.reloadSlider();}}}else{if(ww!==$(window).width()){ww=$(window).width();wh=$(window).height();height_setting();}if($(".staff_list .bx-wrapper").length){slider_staff.destroySlider();var a=$(".staff_list ul li").length;$(".staff_list ul").css("width",230*a);staff_flg=true;}}},200);});function pc_scroll(){$(window).scroll(function(){var a=$(window).scrollTop();if(a>wh){$("body").addClass("fv");if($("#fv video").length&&fv_flg==false){$("#video1 video").get(0).pause();$("#video2 video").get(0).pause();fv_flg=false;}$("body").removeClass("recent");if(scroll_flg==false){return_scroll();}if($("#recent_work").length){var c=$("#recent_work").offset().top;if(a>=c){$("body").addClass("recent");no_scroll();}}}else{if($("#fv video").length&&fv_flg==false){$("#video1 video").get(0).play();$("#video2 video").get(0).play();fv_flg=true;}if(!$("body").hasClass("noscroll")){$("body").removeClass("fv");}}if($("#works_list").length){var b=$("#wrapper").height();var d=20+478*(a/(b-wh));$("#works_list .fixed .circle .c2").css("stroke-dasharray",d+" 1570");}$(".js-sc").each(function(){var e=$(this).offset().top;if(a>e-wh/1.3){$(this).addClass("on");}});});}var elemPos;var elemPos_flg=true;function sp_scroll(){$("#wrapper").scroll(function(){var a=$("#wrapper").scrollTop();if(a>wh){$("body").addClass("fv");}else{if(!$("body").hasClass("noscroll")){$("body").removeClass("fv");}}$(".js-sc").each(function(){var b=$(this).offset().top+a;if(a>b-wh/1.3){$(this).addClass("on");}});});}function height_setting(){$(".js-height_set").height(wh);if(ww>700){if(wh>620){$(".js-window_set").css({width:ww,height:wh,top:-(wh/2-250),left:-(ww/2-250)});}else{$(".js-window_set").css({width:ww,height:620,top:-60,left:-(ww/2-250)});}}else{if(ww>350){$(".js-window_set").css({width:ww,height:wh,top:-(wh/2-159),left:-(ww/2-159)});}else{$(".js-window_set").css({width:ww,height:wh,top:-(wh/2-147),left:-(ww/2-147)});}}}function each_page(){if($("#fv").length){$("body").removeClass("child works_list not_found");$("#header").removeClass("black");var h=Math.floor(Math.random()*(7+1-1))+1;$("#fv").addClass("sp_pic"+h);if(ww>700){$("#video1").vide("https://monopo.co.jp/wp-content/themes/monopo/video/bg2.mp4",{posterType:"none",loop:false});var e='<div style="position: absolute; z-index: -1; top: 0px; left: 0px; bottom: 0px; right: 0px; overflow: hidden; background-size: cover; background-color: transparent; background-repeat: no-repeat; background-position: 50% 50%; background-image: none;"><video autoplay="" muted="" style="margin: auto; position: absolute; z-index: -1; top: 50%; left: 50%; transform: translate(-50%, -50%); visibility: visible; opacity: 1; width: auto; height: 502px;"><source src="https://monopo.co.jp/wp-content/themes/monopo/video/circle4.mp4" type="video/mp4"></video></div>';$("#video2").html(e);var f=$("#video2 video").get(0);f.addEventListener("ended",function(){$("#video1 video").get(0).currentTime=0;$("#video2 video").get(0).currentTime=0;$("#video1 video").get(0).play();$("#video2 video").get(0).play();});$("#recent_work .num li div").hover(function(){$(this).parent().addClass("on_m");},function(){$(this).parent().removeClass("on_m");});}slider=$(".slide").bxSlider({mode:"fade",auto:false,speed:1000,pager:false,controls:true,pause:5000,touchEnabled:false,onSliderLoad:function(){$(".slide li:nth-child(1)").addClass("on on2");var o=$(".slide li:nth-child(1)").attr("link");$("#recent_work .btn a").attr("href",o);},onSlideBefore:function(){$("#recent_work .fixed").addClass("change");current=slider.getCurrentSlide();if(current==slideQty){current_slide=1;$("#recent_work").removeClass("last");}else{current_slide=parseInt(current)+1;if(current==slideQty-1){$("#recent_work").addClass("last");}else{$("#recent_work").removeClass("last");}}setTimeout(function(){$(".slide li:nth-child("+current_slide+")").addClass("on2");var o=$(".slide li:nth-child("+current_slide+")").attr("link");$("#recent_work .btn a").attr("href",o);},300);setTimeout(function(){$(".slide li:nth-child("+current_slide+")").addClass("on");$("#recent_work .fixed").removeClass("change");},800);},onSlideAfter:function(){$(".slide li:not(:nth-child("+current_slide+"))").removeClass("on on2");$(".slide li").removeClass("off");setTimeout(function(){recent_flg=true;},300);}});slideQty=slider.getSlideCount();$(".js-slide_go").click(function(){current_off=parseInt(slider.getCurrentSlide())+1;if(!$(this).hasClass("on")){$(".slide li:nth-child("+current_off+")").addClass("off");}var o=$(this).attr("go");$("#recent_work").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+o);slider.goToSlide(o);$(".js-slide_go").removeClass("on");$(this).addClass("on");});$(".bx-next").click(function(){current=slider.getCurrentSlide();$(".slide li:nth-child("+current+")").addClass("off");$("#recent_work").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+current);});$(".bx-prev").click(function(){current=slider.getCurrentSlide();current_off=parseInt(slider.getCurrentSlide())+2;$(".slide li:nth-child("+current_off+")").addClass("off");$("#recent_work").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+current);});var d,a;var k,i;var g=document.getElementById("recent_work");g.addEventListener("touchstart",function(o){d=o.touches[0].pageX;a=o.touches[0].pageY;});g.addEventListener("touchmove",function(o){k=o.changedTouches[0].pageX;i=o.changedTouches[0].pageY;});g.addEventListener("touchend",function(o){if(d>k&&Math.abs(a-i)<20){if(d>(k+20)){if(recent_flg==true){recent_flg=false;current=slider.getCurrentSlide();if(current==5){recent_flg=true;}else{current_off=parseInt(slider.getCurrentSlide())+1;$(".slide li:nth-child("+current_off+")").addClass("off");setTimeout(function(){slider.goToNextSlide();current=slider.getCurrentSlide();$("#recent_work").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+current);},100);}}}}else{if(d<k&&Math.abs(a-i)<20){if((d+20)<k){if(recent_flg==true){recent_flg=false;current=slider.getCurrentSlide();if(current==0){return_scroll();}else{current_off=parseInt(slider.getCurrentSlide())+1;$(".slide li:nth-child("+current_off+")").addClass("off");setTimeout(function(){slider.goToPrevSlide();current=slider.getCurrentSlide();$("#recent_work").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+current);},100);}}}}}});}else{if($("#works_list").length){$("body").addClass("child works_list");$("body").removeClass("not_found");$("#header").removeClass("black");var l=location.hash;if(l){var n=l.split("#")[1];var n=escape_html(n);}else{var n="";}var m=$("#filter a[href = '#"+n+"']").attr("title");var c=$("#filter a[href = '#"+n+"']").attr("title");if(n.indexOf("-")!=-1){$("#works_list").addClass("member");$("#works_list .fixed .active").addClass("x2");var m=n.replace("-","<br />");var c=n.replace("-"," ");sort_change_function(n,m,c);}else{if(l&&l!=="#ALL"&&n!=="ALL"){sort_change_function(n,m,c);}else{$("#works_list .list li").each(function(o){if(o<2){$(this).addClass("on");}if(o%2==0){$(this).addClass("left");}else{$(this).addClass("right");}});}}$("#works_list .js-filter, #popup .js-filter").click(function(){var q=$(this);$("html,body,#wrapper").animate({scrollTop:0},500);$("#works_list .js-filter, #works_list .fixed .js-text, #popup .js-filter").removeClass("on");q.addClass("on");var p=q.attr("title");if(p.match(/<br/)){$.when($("#works_list .fixed .js-text").addClass("x2").removeClass("done").html(p),$("#works_list .filter .js-filter_popup span").html(p),text_animation()).done(function(){setTimeout(function(){$("#works_list .fixed .js-text").addClass("on");},200);});}else{$.when($("#works_list .fixed .js-text").removeClass("x2 done").html(p),$("#works_list .filter .js-filter_popup span").html(p),text_animation()).done(function(){setTimeout(function(){$("#works_list .fixed .js-text").addClass("on");},200);});}var o=q.attr("filter");$("#works_list .list li").removeClass("on");if(o=="all"){setTimeout(function(){$("#works_list .list li").removeClass("left right");$("#works_list .list li").each(function(r){if(r%2==0){$(this).addClass("left");}else{$(this).addClass("right");}});},700);setTimeout(function(){$("#works_list .list li").css("display","block");},900);setTimeout(function(){$("#works_list .list li").addClass("on");},1000);}else{setTimeout(function(){$("#works_list .list li").removeClass("left right");$("#works_list .list li."+o).each(function(r){if(r%2==0){$(this).addClass("left");}else{$(this).addClass("right");}});$("#works_list .list li:not(."+o+")").hide();},700);setTimeout(function(){$("#works_list .list li."+o).css("display","block");},900);setTimeout(function(){$("#works_list .list li."+o).addClass("on");},1000);}});$("#works_list .js-filter_popup").click(function(){$("#wrapper").addClass("popup");$("#popup").fadeIn(500,function(){$("#popup").addClass("on");});var o=$(this).html();$("#works_list .fixed .js-filter_popup span").html(o);});$("#btn_menu_close, #popup .js-filter").click(function(){$("#popup").fadeOut(500,function(){$("#popup").removeClass("on");});$("#wrapper").removeClass("popup");});}else{if($("#works_detail").length){$("body").addClass("child");$("body").removeClass("works_list not_found");$("#header").removeClass("black");if(ww<701){$("#works_detail .embed").html("");}play_movie();if($(".awards li").length){var j=0;$(".awards li").each(function(){var o=$(this).height();if(o>j){awards_height=o;}$(".awards li").height(awards_height);});}if(ww<701){var b=$(".staff_list ul li").length;$(".staff_list ul").css("width",230*b);staff_flg=true;}else{slider_staff=$(".staff_list ul").bxSlider({auto:false,speed:800,pager:false,controls:true,infiniteLoop:false,hideControlOnEnd:true,slideWidth:220,minSlides:2,maxSlides:10,moveSlides:1,onSliderLoad:function(){setTimeout(function(){$(".staff_list ul").css("transform","translate3d(0, 0, 0)");},100);}});}}else{if($("#contact").length){$("body").addClass("child");$("body").removeClass("works_list not_found");$("#header").addClass("black");}else{if($("#vision").length||$("#team").length){$("body").addClass("child");$("body").removeClass("works_list not_found");$("#header").removeClass("black");slide_common=$(".slide_common").bxSlider({mode:"fade",auto:false,speed:1000,pager:true,controls:true,pause:5000,touchEnabled:true,onSliderLoad:function(){setTimeout(function(){var o=$(".slide_common li").outerHeight();$(".bx-viewport").height(o);},100);},onSlideBefore:function(o){o.addClass("opac");setTimeout(function(){o.addClass("over");},10);setTimeout(function(){o.parent().children("li").removeClass("on opac");},100);setTimeout(function(){o.addClass("on");},500);setTimeout(function(){o.removeClass("over");},800);}});$(".js-more").click(function(){$(this).addClass("none").fadeOut(200,function(){$(".js-more_hide li").removeClass("on");$(".js-more_hide").fadeIn(100,function(){$(".js-more_hide ul:nth-child(1) li:nth-child(1)").addClass("on");});});});}else{if($("#solutions").length){$("body").addClass("child");$("body").removeClass("works_list not_found");$("#header").removeClass("black");play_movie();}else{if($("#not_found").length){$("body").addClass("child not_found");$("body").removeClass("works_list");$("#header").removeClass("black");}else{$("body").addClass("child");$("body").removeClass("works_list not_found");$("#header").removeClass("black");}}}}}}}}function videoControl(a){$playerWindow.postMessage('{"event":"command","func":"'+a+'","args":""}',"*");}function no_scroll(){scroll_flg=false;recent_flg=true;var a="onwheel" in document?"wheel":"onmousewheel" in document?"mousewheel":"DOMMouseScroll";$(document).on(a,function(b){b.preventDefault();var c=b.originalEvent.deltaY?-(b.originalEvent.deltaY):b.originalEvent.wheelDelta?b.originalEvent.wheelDelta:-(b.originalEvent.detail);if(c<-2){if(recent_flg==true){recent_flg=false;current=slider.getCurrentSlide();if(current==5){recent_flg=true;}else{current_off=parseInt(slider.getCurrentSlide())+1;$(".slide li:nth-child("+current_off+")").addClass("off");setTimeout(function(){slider.goToNextSlide();current=slider.getCurrentSlide();$("#recent_work").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+current);},100);}}}else{if(c>2){if(recent_flg==true){recent_flg=false;current=slider.getCurrentSlide();if(current==0){return_scroll();}else{current_off=parseInt(slider.getCurrentSlide())+1;$(".slide li:nth-child("+current_off+")").addClass("off");setTimeout(function(){slider.goToPrevSlide();current=slider.getCurrentSlide();$("#recent_work").removeClass("r0 r1 r2 r3 r4 r5").addClass("r"+current);},100);}}}}});}function return_scroll(){var a="onwheel" in document?"wheel":"onmousewheel" in document?"mousewheel":"DOMMouseScroll";$(document).off(a);scroll_flg=true;}function sp_scroll_function(){if(scr_flag_sp==true){$("body").removeClass("noscroll").css("top","");$(window).scrollTop(scTop);scr_flag_sp=false;}else{scTop=$(window).scrollTop();$("body").addClass("noscroll").css("top",-scTop);scr_flag_sp=true;}}function text_animation(){if($(".js-text").length){$(".js-text").each(function(){if(!$(this).hasClass("done")){$(this).addClass("done");var c=$(this).html().replace("<br />","~");var c=c.replace("<br>","~");var e=c.split("");var b="";var a;for(var d=0;d<e.length;d++){if(e[d]==" "){b+=" ";}else{if(e[d]=="~"){b+="<br />";}else{b+='<p><span class="tra10" style="-webkit-transition-delay: '+(d/30)+"s; transition-delay: "+(d/30)+'s;">'+e[d]+"</span></p>";}}}$(this).html(b);}});}if($(".js-text_word").length){$(".js-text_word").each(function(){if(!$(this).hasClass("done")){$(this).addClass("done");var d=$(this).html().split(" ");var b="";var a;for(var c=0;c<d.length;c++){if(d[c]==" "){b+=" ";}else{if(d[c]=="<br>"||d[c]=="<br />"){b+="<br />";}else{b+='<p><span class="tra15" style="-webkit-transition-delay: '+(c/15)+"s; transition-delay: "+(c/15)+'s;">'+d[c]+"</span></p>";}}}$(this).html(b);}});}if($(".js-text_btn").length){$(".js-text_btn .js-text_btn_h").each(function(){if(!$(this).hasClass("done")){$(this).addClass("done");var c=$(this).html().replace("<br />","~");var c=c.replace("<br>","~");var e=c.split("");var b="";var a;for(var d=0;d<e.length;d++){if(e[d]==" "){b+=" ";}else{if(e[d]=="~"){b+="<br />";}else{b+='<p><span class="tra12" style="-webkit-transition-delay: '+(d/50)+"s; transition-delay: "+(d/50)+'s;">'+e[d]+"</span></p>";}}}$(this).html(b);}});}}function play_movie(){$(".js-play_vimeo").click(function(){var c=$(this);c.addClass("on");setTimeout(function(){c.addClass("on2");},600);var b=$(this).next("iframe");var a=new Vimeo.Player(b);a.play();});$(".js-play_yt").click(function(){var a=$(this);a.addClass("on");setTimeout(function(){a.addClass("on2");},600);$playerWindow=$(this).next("iframe")[0].contentWindow;videoControl("playVideo");});}function sort_change_function(d,c,b){$("#works_list .js-filter, #works_list .fixed .js-text, #works_list .member_block .js-text, #popup .js-filter").removeClass("on");$(".js-filter").each(function(g){var f=$(this).attr("href");if(f.match(d)){$(this).addClass("on");}});$("#works_list .fixed .js-text, #works_list .filter .js-filter_popup span").html(c);$("#works_list .member_block .js-text").html(b);text_animation();var a=d.toLowerCase();$("#works_list .list li").removeClass("left right");$("#works_list .list li."+a).each(function(f){if(f%2==0){$(this).addClass("left");}else{$(this).addClass("right");}if(f<2){$(this).addClass("on");}});$("#works_list .list li:not(."+a+")").hide();setTimeout(function(){$("#works_list .list li."+a).css("display","block");},200);}function escape_html(b){var a=["DIGITAL","BRAND IDENTITY","BRAND_IDENTITY","CAMPAIGNS","VIDEO","PHOTOGRAPHY","INSTALLATIONS","PBT","YOSHIYUKI-SASAKI","SHUN-OKADA","ASAKO-TOMOTANI","CHACE-FEDOR","JIN-OKUMA","KENTA-TAKAHASHI","KENSUKE-TANAKA","MELANIE-HUBERT","RYO-MIYAKAWA","RYOTA-TANIGUCHI","TAEKO-HAMAMOTO","TAKAYUKI-YOKOYAMA","TAKUYA-KENMOKU","TSUBASA-KAMIOKA","YOSHIYUKI-KUME"];if(!b){}else{if(b.match(/[&'`"<>]/)){return b="ALL";}else{if(a.indexOf(b)!==-1){return b;}else{return b="ALL";}}}}
